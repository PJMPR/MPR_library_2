package library.dao.repositories.impl;


import library.dao.mappers.IMapper;
import library.dao.repositories.IUserRepository;
import library.domain.User;
import java.sql.Connection;

import java.sql.SQLException;
import java.util.List;



public class UserRepository extends RepositoryBase<User>
	implements IUserRepository{

    
    

    	public UserRepository(Connection connection,IMapper<User> mapper) {
    		super(connection,mapper);
    	}
    	
    	@Override
		protected String createTableSql() {
			return "CREATE TABLE user("
			        +"id bigint GENERATED BY DEFAULT AS IDENTITY,"
			        +"login VARCHAR(20) NOT NULL,"
			        +"password VARCHAR(20) NOT NULL,"
			        +"status bit NOT NULL"
			        +")";
		}

    	@Override
    	protected String getTableName() {
    		return "user";
    	}

    	@Override
    	protected String getUpdateSql() {
    		return "UPDATE user SET (login,password,status)=(?,?,?) WHERE id=?";
    	}

    	@Override
    	protected String getInsertSql() {
    		return "INSERT INTO user(login,password,status) VALUES(?,?,?)";
    	}
    	
    	@Override
    	protected void setInsert(User user) throws SQLException {
    		insert.setString(1, user.getLogin());
    		insert.setString(2, user.getPassword());
    		insert.setBoolean(3, user.isStatus());
    
    	}
    	@Override
    	protected void setUpdate(User user) throws SQLException {
    		update.setString(1, user.getLogin());
    		update.setString(2, user.getPassword());
    		update.setBoolean(3, user.isStatus());
    		update.setInt(4, user.getId());
    	}

		public List<User> withStatus(boolean status) {
			// TODO Auto-generated method stub
			return null;
		}

		public List<User> withLogin(String login) {
			// TODO Auto-generated method stub
			return null;
		}



}